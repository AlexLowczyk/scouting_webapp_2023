<html>
    <head>
        <title>Level 1 Scouting</title>
        <link rel="icon" type="image/x-icon" href="logo.ico">
        <link rel="stylesheet" href="level1.css">
    </head>
    <body onload="startup()">
        <div id="question">
            <div id="header" style="display: none;"> 
                <table align="center" id="headerTable">
                    <tr>
                        <td><button onclick="lastBox()" id="headerButton">Previous</button></td> 
                        <td style="text-align: center;width: 200px; font-weight: bold; font-size: larger;" id="headerText"><h1 >Title</h1></td>
                        <td><button onclick="nextBox()" id="headerButton">Next</button></td> 
                    </tr>
                    <tr>
                        <th colspan="3" id="red" style="text-align: center;">254 - The Cheesy Poofs</th>
                    </tr>
                </table>
            </div>
            <div id="home">
                <h1 style="text-align: center;">Welcome to Level 1 Scouting!</h1>
                <h2 style="text-align: center;">Match #</h2>
                <h2 style="text-align: center; color: red;">Team 254: The Cheesy Poofs</h2>
                <h3 style="text-align: center;">Scouter Name: <select style="align-items: center;width: 250px;"></select></h3>
                <table id-"homeTable" align="center">
                    <tr>
                        <th id="blue" style="width: 75px;">Blue Alliance</th>
                        <td rowspan="4"><img src="https://cdn.discordapp.com/attachments/1020128727994224700/1068692349493977158/image.png" height="200px"></img></td>
                        <th id="red" style="width: 75px;">Red Alliance</th>
                    </tr>
                    <tr>
                        <td id="blue">254</td>
                        <td id="red">195</td>
                    </tr>
                    <tr>
                        <td id="blue">1678</td>
                        <td id="red">1114</td>
                    </tr>
                    <tr>
                        <td id="blue">4414</td>
                        <td id="red">2056</td>
                    </tr>
                </table>
                <div style="height: 20px;"></div>
                <button onclick="nextBox()" style="margin: 0 auto; display: block;" id="initialNext">Next</button>
            </div>
            <div id="pre" style="display: none;">
                <form>
                    <p><b>Preload?</b></p>
                    <input type="radio" id="Yes" name="preload" value="1">
                    <label for="Yes">Yes</label><br>
                    <input type="radio" id="No" name="preload" value="0">
                    <label for="No">No</label><br>
                </form>
            </div>
            <div id="auto" style="display: none;">
                <table border="1" id="nodeTable">
                </table>

                <div id="nodeDiv">

                </div>
            </div>
            <div id="tele" style="display: none;">
                Tele operated
            </div>
            <div id="end" style="display: none;">
                Endgame
            </div>
            <div id="post" style="display: none;">
                Post Game
            </div>
            <div id="final" style="display: none;">
                Final Screen
                <button onclick="returnBox()" style="margin: 0 auto; display: block;" id="initialNext">Return</button>    
            </div>
        </div>
    </body>







    <script>
        var stage=0; //variable to keep track of what is currently being displayed
        var numberBox=6; //static value for total number of boxes - 1
        var states=0;
        const nodeValues = new Array(27);

        function cycle(name){
            button = document.getElementById(name);
            if (button.style.backgroundColor == "red"){
                button.style.backgroundColor = "purple";
            } else if (button.style.backgroundColor == "purple"){
                button.style.backgroundColor = "yellow";
            } else if (button.style.backgroundColor == "yellow"){
                button.style.backgroundColor = "red";
            }
        }

        function startup(){ //set up auto nodes when the website is opened
            table = document.getElementById("nodeTable"); //find table
            var counter = 1; //variable to count and assign numbers to cells
            for(var i = 0; i < 3; i++){ //loop to make rows
                var row = table.insertRow(i); //insert row into table
                for(var t = 0; t < 9; t++){ //loop to make cells
                    var cell = row.insertCell(t); // insert cell into row
                    var newNode = document.createElement("button"); //make a button
                    newNode.id = "node" + counter; //assign it a name and a id
                    newNode.name = "node"; //use the name to format all button in the css code
                    if (t==3 || t==4 || t==5) { //assign buttons a type depending on if they are in the community co op zone
                        newNode.type = "community";
                    } else {
                        newNode.type = "other";
                    }
                    newNode.innerHTML = counter; //set the button text to its number
                    newNode.setAttribute("onclick", "assignNodeArray(" + (counter - 1) + ")"); //add the function that will happen when the button is clicked, idk what to name it so i called it harish
                    cell.appendChild(newNode); //put the button in the cell that we made
                    counter++; //increment the number by 1
                }
            }
            for (i=0;i < nodeValues.length; i++){ //assign vallues to node value array
                nodeValues[i] = 0;
                document.getElementById("nodeDiv").innerHTML = nodeValues; //test code
            }
        }

        function assignNodeArray(nodeNumber){
            console.log(nodeNumber);
            button = document.getElementById("node" + (nodeNumber + 1))
            if (nodeValues[nodeNumber]==0){ //if the node is 0, change to green and set to 1
                nodeValues[nodeNumber]=1;
                button.style.backgroundColor = "green";
            } else { //if node is 1, set node to 0 and original color
                nodeValues[nodeNumber]=0;
                if (nodeNumber==3 || nodeNumber==4 || nodeNumber==5 || nodeNumber==12 || nodeNumber==13 || nodeNumber==14 || nodeNumber==21 || nodeNumber==22 || nodeNumber==23){
                    button.style.backgroundColor = "#02d8e9"; //sets it back to cyan if its in the middle
                } else {
                    button.style.backgroundColor = "gray";//sets it to gray otherwise
                }
            }

            document.getElementById("nodeDiv").innerHTML = nodeValues; //test code
        }

        function nextBox(){ //increment stage by one till a max and update boxes
            stage++;
            if (stage > numberBox){
                stage = numberBox;
            }
            console.log(stage);
            updateBox();
        }

        function lastBox(){ //de increment stage by one till 0 and updates boxes
            stage--;
            if (stage < 0){
                stage = 0;
            }
            updateBox();
        }

        function returnBox(){
            stage = 0;
            updateBox();
        }

        function updateBox(){
            homeBox = document.getElementById("home"); //get each box object
            preBox = document.getElementById("pre");
            autoBox = document.getElementById("auto");
            teleBox = document.getElementById("tele");
            endBox = document.getElementById("end");
            postBox = document.getElementById("post");
            finalBox = document.getElementById("final");
            header = document.getElementById("header");
            headerText = document.getElementById("headerText");
            homeBox.style.display = "none"; //set each box invisible
            preBox.style.display = "none";
            autoBox.style.display = "none";
            teleBox.style.display = "none"; 
            endBox.style.display = "none";
            postBox.style.display = "none";
            finalBox.style.display = "none";
            if (stage == 0){ //make one box visible
                homeBox.style.display = "block";
                header.style.display = "none"; //hide header
            } else if(stage == 1){
                preBox.style.display = "block";
                header.style.display = "block"; //show header
                headerText.innerHTML = "Pre Game"; //set header text
            } else if(stage == 2){
                autoBox.style.display = "block";
                headerText.innerHTML = "Auto";
            } else if(stage == 3){
                teleBox.style.display = "block";
                headerText.innerHTML = "Tele";
            } else if(stage == 4){
                endBox.style.display = "block";
                headerText.innerHTML = "End Game";
            } else if(stage == 5){
                postBox.style.display = "block";
                headerText.innerHTML = "Post Game";
            } else if(stage == 6){
                finalBox.style.display = "block";
                header.style.display = "none"; //hide header
            }
        }
    </script>
</html>